slices <- count_2002$n
labels <-  count_2002$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main="Percentage of species type in 2002", col=brewer.pal(length(labels),"Pastel1"))
par(mar=c(0, 2, 2, 2), oma=c(0,0,2,0), mfrow=c(2,2))
#Creating the pie for the year 2002
count_2002 <- species_type_count[species_type_count$Survey.Year == "2002",-c(1)]
slices <- count_2002$n
labels <-  count_2002$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main="Percentage of species type in 2002", col=brewer.pal(length(labels),"Pastel1"))
par(mar=c(0, 6, 2, 6), oma=c(0,0,2,0), mfrow=c(2,2))
#Creating the pie for the year 2002
count_2002 <- species_type_count[species_type_count$Survey.Year == "2002",-c(1)]
slices <- count_2002$n
labels <-  count_2002$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main="Percentage of species type in 2002", col=brewer.pal(length(labels),"Pastel1"))
str(species_type_count)
levels(species_type_count$Survey.Year)
par(mar=c(0, 0, 2, 0), oma=c(0,0,2,0), mfrow=c(3,2))
#Creating the pie for the year 2002
for(i in levels(species_type_count$Survey.Year)){
count_2002 <- species_type_count[species_type_count$Survey.Year == i,-c(1)]
slices <- count_2002$n
labels <-  count_2002$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main="Percentage of species type in 2002", col=brewer.pal(length(labels),"Pastel1"))
}
par(mar=c(0, 0, 2, 0), oma=c(0,0,2,0), mfrow=c(3,2))
#Creating the pie for the year 2002
for(i in levels(species_type_count$Survey.Year)){
count_2002 <- species_type_count[species_type_count$Survey.Year == i,-c(1)]
slices <- count_2002$n
labels <-  count_2002$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main="Percentage of species type in " + i, col=brewer.pal(length(labels),"Pastel1"))
}
par(mar=c(0, 0, 2, 0), oma=c(0,0,2,0), mfrow=c(3,2))
#Creating the pie for the year 2002
for(i in levels(species_type_count$Survey.Year)){
count_2002 <- species_type_count[species_type_count$Survey.Year == i,-c(1)]
slices <- count_2002$n
labels <-  count_2002$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main="Percentage of species type in " + as.character(i), col=brewer.pal(length(labels),"Pastel1"))
}
par(mar=c(0, 0, 2, 0), oma=c(0,0,2,0), mfrow=c(3,2))
#Creating the pie for the year 2002
for(i in levels(species_type_count$Survey.Year)){
count_2002 <- species_type_count[species_type_count$Survey.Year == i,-c(1)]
slices <- count_2002$n
labels <-  count_2002$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main=paste("Percentage of species type in ", i), col=brewer.pal(length(labels),"Pastel1"))
}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(reshape2)
library(ggplot2)
library("RColorBrewer", lib.loc="~/R/win-library/3.4")
library(lubridate)
#Edem's
library(readxl)
cst <- read.csv("src/Comprehensive Species Tally 1937-2016.csv", na.strings = "na")
cst <- cst[,-c(2,3,4,6,7,8)]
head(cst)
cst$Survey.Year <- factor(cst$Survey.Year)
summary(cst)
#Create sub-tables
cst_1937 <- subset(cst, cst$Survey.Year==1937)
cst_2002 <- subset(cst, cst$Survey.Year==2002)
cst_2006 <- subset(cst, cst$Survey.Year==2006)
cst_2011 <- subset(cst, cst$Survey.Year==2011)
cst_2016 <- subset(cst, cst$Survey.Year==2016)
# Create vectors for all the years and species -> native, not-native and invasive
year <- c('1937-01-01', '2002-01-01', '2006-01-01', '2011-01-01', '2016-01-01')
year <- as.Date(year)
native <- c(length(which(cst_1937$Native=='y')), length(which(cst_2002$Native=='y')), length(which(cst_2006$Native=='y')), length(which(cst_2011$Native=='y')), length(which(cst_2016$Native=='y')))
non_native <- c(length(which(cst_1937$Non.native=='y')), length(which(cst_2002$Non.native=='y')), length(which(cst_2006$Non.native=='y')), length(which(cst_2011$Non.native=='y')), length(which(cst_2016$Non.native=='y')))
invasive <- c(length(which(cst_1937$Invasive=='y')), length(which(cst_2002$Invasive=='y')), length(which(cst_2006$Invasive=='y')), length(which(cst_2011$Invasive=='y')), length(which(cst_2016$Invasive=='y')))
#Create dataframe with the vectors
cst_trend <- data.frame(year, native, non_native, invasive, stringsAsFactors = FALSE)
head(cst_trend)
#Reshaping the dataframe
cst_trendL <- melt(cst_trend, id.vars = c("year"))
colnames(cst_trendL)[2] <- "type"
colnames(cst_trendL)[3] <- "count"
#Plotting the dataset
line <- ggplot(cst_trendL, aes(x = year, y = count, color = type)) + geom_line(size=1) + geom_point(size=2)+ ggtitle("Species Count from 1937 to 2016") + labs(x="Years", y="Species Count")
line <- line + theme_bw()
line
line <- ggplot(cst_trendL[cst_trendL$year >= "2002-01-01",], aes(x = year, y = count, color = type)) + geom_line(size=1) + geom_point(size=2) + ggtitle("Species Count from 2002 to 2016") + labs(x="Years", y="Species Count")
line <- line + theme_bw()
line
cst_div <- cst %>%
mutate(species_type = case_when(Native=='y' ~ 'Native',
(Non.native=='y' & Invasive=='n') ~ 'Non-native/Non-invasive',
(Non.native=='y' & Invasive=='y') ~ 'Non-native/Invasive',
TRUE ~ 'Uncategorized'))
cst_div <- cst_div[,-c(3,4,5)]
cst_div <- subset(cst_div, species_type!='Uncategorized')
cst_div$species_type <- factor(cst_div$species_type)
#Creating new dataframe with species type count
species_type_count <- cst_div %>%
count(Survey.Year, species_type)
species_type_count
par(mar=c(0, 0, 2, 0), oma=c(0,0,2,0), mfrow=c(3,2))
#Creating the pie for the year 2002
for(i in levels(species_type_count$Survey.Year)){
count_2002 <- species_type_count[species_type_count$Survey.Year == i,-c(1)]
slices <- count_2002$n
labels <-  count_2002$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main=paste("Percentage of species type in ", i), col=brewer.pal(length(labels),"Pastel1"))
}
restoration <- read.csv("src/NYBG Forest Restoration Plantings 2007-2018.csv", stringsAsFactors = FALSE)
restoration <- restoration[,-c(1,5,6,7,9)]
attach(restoration)
# Modifying the Data Types
restoration$Date.Planted <- as.Date(Date.Planted, "%m/%d/%Y")
restoration$Plant.Type <- as.factor(Plant.Type)
head(restoration)
summary(restoration)
#Total plants planted
sum(Qty)
#Total plants planted by Type
res_qty_type <- restoration %>%
group_by(Plant.Type) %>%
summarise(Qty = sum(Qty))
res_qty_type
# Pie Chart for the plants planted by Type
slices <- res_qty_type$Qty
labels <-  res_qty_type$Plant.Type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main="Plant types planted", col=brewer.pal(length(labels),"Pastel1"))
#Adding a column for the year
restoration <- restoration %>%
mutate(year_planted = year(restoration$Date.Planted))
#Adding a column for the month
restoration <- restoration %>%
mutate(month_planted = month(restoration$Date.Planted))
#Summarising number of plants planted by years
res_qty_year <- restoration %>%
group_by(year_planted) %>%
summarise(Qty = sum(Qty))
plot_qty_year <- ggplot(res_qty_year, aes(x=res_qty_year$year_planted, y=res_qty_year$Qty)) + geom_bar(stat = "identity") +
geom_text(y=res_qty_year$Qty+300 , label = res_qty_year$Qty) +
ggtitle("Restoration Planting by Years") + labs(x="Years", y="Plants planted") +
theme_bw()
plot_qty_year
#Plantation by month and year
res_month <- restoration %>%
group_by(year_planted, month_planted) %>%
summarise(Qty = sum(Qty))
#Adding a dummy month column for X Label
res_month <- res_month %>%
mutate(month2_planted = as.Date(paste0("2000-", month_planted, "-01"), "%Y-%m-%d"))
#Plotting the new dataset
res_month %>%
ggplot(aes(x=month2_planted, y=Qty)) +
geom_bar(stat = "identity", fill = "darkorchid4") +
facet_wrap(~year_planted, ncol = 3) +
labs(title="Plantations by Months/Year", x="Month", y="Quantity planted")+
theme_bw(base_size = 15) + scale_x_date(date_labels = "%b")
woodyplants <- read_xlsx("Combined Woody Plants Data (2002,2006,2011,2016).xlsx")
woodyplants <- read_xlsx("src\Combined Woody Plants Data (2002,2006,2011,2016).xlsx")
woodyplants <- read_xlsx("src\Combined Woody Plants Data (2002,2006,2011,2016).xlsx")
woodyplants <- read_xlsx("src/Combined Woody Plants Data (2002,2006,2011,2016).xlsx")
groundcover <- read.csv("src/Combined Groundcover2011_2016.csv", stringsAsFactors = FALSE)
head(woodyplants)
tail(woodyplants)
str(woodyplants)
summary(woodyplants)
head(groundcover)
tail(groundcover)
str(groundcover)
summary(groundcover)
##forestmgmt <- read_xls("NYBG Forest Management_11052008 to 12312014.xls")
## First We are checking if there are any missing year column which is the first column on the datasets
sum(is.na(woodyplants$Year))
sum(is.na(groundcover$Sample.Date))
## Removing the empty rows
woodyplants <- woodyplants[rowSums(is.na(woodyplants)) < 7,]
groundcover <- groundcover[rowSums(is.na(groundcover)) < 10,]
woodyplants$`Transect Number` <- as.factor(woodyplants$`Transect Number`)
woodyplants$`Plot Number` <- as.factor(woodyplants$`Plot Number`)
groundcover$Transect.Number <- as.factor(groundcover$Transect.Number)
groundcover$Plot.Number <- as.factor(groundcover$Plot.Number)
groundcover$Sample.Date <- as.Date(groundcover$Sample.Date, format = "%m/%d/%Y")
#Set all the values in Genus to uppercases
woodyplants$Genus <- toupper(woodyplants$Genus)
library(dplyr)
#Get top 7 Genus
top_7 <- woodyplants %>% count(Genus) %>% arrange(desc(n)) %>% filter(n > 1000)
#Create a vector with top 7 Genus
target <- c("PRUNUS","DEAD","LINDERA","ACER","ARALIA","FAGUS","VIBURNUM")
#Get top 7 Genus with Year
top_7_year <- woodyplants %>% count(Year,Genus) %>% arrange(desc(n)) %>% filter(Genus %in% target )
#Create plots
library(ggplot2)
ggplot(top_7_year, aes(x = Genus, y = n, fill = factor(Year)), position ="dodge") + geom_bar(stat = "identity")
ggplot(top_7_year, aes(x = Genus, y = n, fill = factor(Year)), position ="dodge") + geom_bar(stat = "identity", position = "dodge")
res_month %>%
ggplot(aes(x=month2_planted, y=Qty)) +
geom_bar(stat = "identity", fill = "darkorchid4") +
facet_wrap(~year_planted, ncol = 3) +
labs(title="Plantations by Months/Year", x="Month", y="Quantity planted")+
theme_bw(base_size = 15) + scale_x_date(date_labels = "%b")
res_month %>%
ggplot(aes(x=month2_planted, y=Qty)) +
geom_bar(stat = "identity", fill = "darkorchid4") +
facet_wrap(~year_planted, ncol = 3) +
labs(title="Plantations by Months/Year", x="Month", y="Quantity planted")+
theme_bw(base_size = 5) + scale_x_date(date_labels = "%b")
res_month %>%
ggplot(aes(x=month2_planted, y=Qty)) +
geom_bar(stat = "identity", fill = "darkorchid4") +
facet_wrap(~year_planted, ncol = 3) +
labs(title="Plantations by Months/Year", x="Month", y="Quantity planted")+
theme_bw(base_size = 10) + scale_x_date(date_labels = "%b")
?theme
?base_size
??base_size
#Plantation by month and year
res_month <- restoration %>%
group_by(year_planted, month_planted) %>%
summarise(Qty = sum(Qty))
#Adding a dummy month column for X Label
res_month <- res_month %>%
mutate(month2_planted = as.Date(paste0("2000-", month_planted, "-01"), "%Y-%m-%d"))
#Plotting the new dataset
res_month %>%
ggplot(aes(x=month2_planted, y=Qty)) +
geom_bar(stat = "identity", fill = "darkorchid4") +
facet_wrap(~year_planted, ncol = 3) +
labs(title="Plantations by Months/Year", x="Month", y="Quantity planted")+
theme_bw(base_size = 10) + scale_x_date(date_labels = "%b")
#Plantation by month and year
res_month <- restoration %>%
group_by(year_planted, month_planted) %>%
summarise(Qty = sum(Qty))
#Adding a dummy month column for X Label
res_month <- res_month %>%
mutate(month2_planted = as.Date(paste0("2000-", month_planted, "-01"), "%Y-%m-%d"))
#Plotting the new dataset
res_month %>%
ggplot(aes(x=month2_planted, y=Qty)) +
geom_bar(stat = "identity", fill = "darkorchid4") +
facet_wrap(~year_planted, ncol = 3) +
labs(title="Plantations by Months/Year", x="Month", y="Quantity planted")+
theme_bw(base_size = 10) + scale_x_date(date_labels = "%b")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(reshape2)
library(ggplot2)
library("RColorBrewer", lib.loc="~/R/win-library/3.4")
library(lubridate)
cst <- read.csv("src/Comprehensive Species Tally 1937-2016.csv", na.strings = "na")
cst <- cst[,-c(2,3,4,6,7,8)]
head(cst)
cst$Survey.Year <- factor(cst$Survey.Year)
summary(cst)
#Create sub-tables
cst_1937 <- subset(cst, cst$Survey.Year==1937)
cst_2002 <- subset(cst, cst$Survey.Year==2002)
cst_2006 <- subset(cst, cst$Survey.Year==2006)
cst_2011 <- subset(cst, cst$Survey.Year==2011)
cst_2016 <- subset(cst, cst$Survey.Year==2016)
# Create vectors for all the years and species -> native, not-native and invasive
year <- c('1937-01-01', '2002-01-01', '2006-01-01', '2011-01-01', '2016-01-01')
year <- as.Date(year)
native <- c(length(which(cst_1937$Native=='y')), length(which(cst_2002$Native=='y')), length(which(cst_2006$Native=='y')), length(which(cst_2011$Native=='y')), length(which(cst_2016$Native=='y')))
non_native <- c(length(which(cst_1937$Non.native=='y')), length(which(cst_2002$Non.native=='y')), length(which(cst_2006$Non.native=='y')), length(which(cst_2011$Non.native=='y')), length(which(cst_2016$Non.native=='y')))
invasive <- c(length(which(cst_1937$Invasive=='y')), length(which(cst_2002$Invasive=='y')), length(which(cst_2006$Invasive=='y')), length(which(cst_2011$Invasive=='y')), length(which(cst_2016$Invasive=='y')))
#Create dataframe with the vectors
cst_trend <- data.frame(year, native, non_native, invasive, stringsAsFactors = FALSE)
head(cst_trend)
#Reshaping the dataframe
cst_trendL <- melt(cst_trend, id.vars = c("year"))
colnames(cst_trendL)[2] <- "type"
colnames(cst_trendL)[3] <- "count"
#Plotting the dataset
line <- ggplot(cst_trendL, aes(x = year, y = count, color = type)) + geom_line(size=1) + geom_point(size=2)+ ggtitle("Species Count from 1937 to 2016") + labs(x="Years", y="Species Count")
line <- line + theme_bw()
line
line <- ggplot(cst_trendL[cst_trendL$year >= "2002-01-01",], aes(x = year, y = count, color = type)) + geom_line(size=1) + geom_point(size=2) + ggtitle("Species Count from 2002 to 2016") + labs(x="Years", y="Species Count")
line <- line + theme_bw()
line
cst_div <- cst %>%
mutate(species_type = case_when(Native=='y' ~ 'Native',
(Non.native=='y' & Invasive=='n') ~ 'Non-native/Non-invasive',
(Non.native=='y' & Invasive=='y') ~ 'Non-native/Invasive',
TRUE ~ 'Uncategorized'))
cst_div <- cst_div[,-c(3,4,5)]
cst_div <- subset(cst_div, species_type!='Uncategorized')
cst_div$species_type <- factor(cst_div$species_type)
#Creating new dataframe with species type count
species_type_count <- cst_div %>%
count(Survey.Year, species_type)
species_type_count
par(mar=c(0, 0, 2, 0), oma=c(0,0,2,0), mfrow=c(3,2))
#Creating the pie for the year 2002
for(i in levels(species_type_count$Survey.Year)){
count_2002 <- species_type_count[species_type_count$Survey.Year == i,-c(1)]
slices <- count_2002$n
labels <-  count_2002$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main=paste("Percentage of species type in ", i), col=brewer.pal(length(labels),"Pastel1"))
}
restoration <- read.csv("src/NYBG Forest Restoration Plantings 2007-2018.csv", stringsAsFactors = FALSE)
restoration <- restoration[,-c(1,5,6,7,9)]
attach(restoration)
# Modifying the Data Types
restoration$Date.Planted <- as.Date(Date.Planted, "%m/%d/%Y")
restoration$Plant.Type <- as.factor(Plant.Type)
head(restoration)
summary(restoration)
#Total plants planted
sum(Qty)
#Total plants planted by Type
res_qty_type <- restoration %>%
group_by(Plant.Type) %>%
summarise(Qty = sum(Qty))
res_qty_type
# Pie Chart for the plants planted by Type
slices <- res_qty_type$Qty
labels <-  res_qty_type$Plant.Type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main="Plant types planted", col=brewer.pal(length(labels),"Pastel1"))
#Adding a column for the year
restoration <- restoration %>%
mutate(year_planted = year(restoration$Date.Planted))
#Adding a column for the month
restoration <- restoration %>%
mutate(month_planted = month(restoration$Date.Planted))
#Summarising number of plants planted by years
res_qty_year <- restoration %>%
group_by(year_planted) %>%
summarise(Qty = sum(Qty))
plot_qty_year <- ggplot(res_qty_year, aes(x=res_qty_year$year_planted, y=res_qty_year$Qty)) + geom_bar(stat = "identity") +
geom_text(y=res_qty_year$Qty+300 , label = res_qty_year$Qty) +
ggtitle("Restoration Planting by Years") + labs(x="Years", y="Plants planted") +
theme_bw()
plot_qty_year
#Plantation by month and year
res_month <- restoration %>%
group_by(year_planted, month_planted) %>%
summarise(Qty = sum(Qty))
#Adding a dummy month column for X Label
res_month <- res_month %>%
mutate(month2_planted = as.Date(paste0("2000-", month_planted, "-01"), "%Y-%m-%d"))
#Plotting the new dataset
res_month %>%
ggplot(aes(x=month2_planted, y=Qty)) +
geom_bar(stat = "identity", fill = "darkorchid4") +
facet_wrap(~year_planted, ncol = 3) +
labs(title="Plantations by Months/Year", x="Month", y="Quantity planted")+
theme_bw(base_size = 10) + scale_x_date(date_labels = "%b")
#Left join CST data on the Restoration
detach(restoration)
par(mar=c(0, 0, 2, 0), oma=c(0,0,2,0), mfrow=c(2,2))
#Creating the pie for the years
for(i in levels(species_type_count$Survey.Year)){
if(i=='1937'){
next
}
count_i <- species_type_count[species_type_count$Survey.Year == i,-c(1)]
slices <- count_i$n
labels <-  count_i$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main=paste("Percentage of species type in ", i),
col=brewer.pal(length(labels),"Pastel1"))
}
par(mar=c(0, 0, 2, 0), oma=c(0,0,2,0), mfrow=c(2,2))
#Creating the pie for the year 2002
for(i in levels(species_type_count$Survey.Year)){
if(i=='1937'){
next
}
count_i <- species_type_count[species_type_count$Survey.Year == i,-c(1)]
slices <- count_i$n
labels <-  count_i$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main=paste("Percentage of species type in ", i), col=brewer.pal(length(labels),"Pastel1"))
}
View(res_qty_year)
par(mar=c(0, 0, 2, 0), oma=c(0,0,2,0), mfrow=c(2,2))
#Creating the pie for the year 2002
for(i in levels(species_type_count$Survey.Year)){
if(i=='1937'){
next
}
count_i <- species_type_count[species_type_count$Survey.Year == i,-c(1)]
slices <- count_i$n
labels <-  count_i$species_type
percent <- round(slices/sum(slices)*100, digits = 2)
labels <- paste(labels, percent)
labels <- paste(labels, "%", sep="")
pie(slices, labels, main=paste("Percentage of species type in ", i), col=brewer.pal(length(labels),"Pastel1"))
}
boxplot(plot_qty_year)
View(res_qty_year)
boxplot(plot_qty_year$Qty)
boxplot(res_qty_year)
boxplot(res_qty_year$Qty)
?boxplot
boxplot(res_qty_year$Qty, main = "Plants planted by years", xlab="Quantity", col = "#E69F00")
boxplot(res_qty_year$Qty, main = "Plants planted by years", xlab="Quantity", col = "#56B4E9")
#Adding a column for the year
restoration <- restoration %>%
mutate(year_planted = year(restoration$Date.Planted))
#Adding a column for the month
restoration <- restoration %>%
mutate(month_planted = month(restoration$Date.Planted))
#Summarising number of plants planted by years
res_qty_year <- restoration %>%
group_by(year_planted) %>%
summarise(Qty = sum(Qty))
plot_qty_year <- ggplot(res_qty_year, aes(x=res_qty_year$year_planted, y=res_qty_year$Qty)) + geom_bar(stat = "identity", fill = "darkorchid4") +
geom_text(y=res_qty_year$Qty+300 , label = res_qty_year$Qty) +
ggtitle("Restoration Planting by Years") + labs(x="Years", y="Plants planted") +
theme_bw()
plot_qty_year
#Adding a column for the year
restoration <- restoration %>%
mutate(year_planted = year(restoration$Date.Planted))
#Adding a column for the month
restoration <- restoration %>%
mutate(month_planted = month(restoration$Date.Planted))
#Summarising number of plants planted by years
res_qty_year <- restoration %>%
group_by(year_planted) %>%
summarise(Qty = sum(Qty))
plot_qty_year <- ggplot(res_qty_year, aes(x=res_qty_year$year_planted, y=res_qty_year$Qty)) + geom_bar(stat = "identity", fill = "#de584c") +
geom_text(y=res_qty_year$Qty+300 , label = res_qty_year$Qty) +
ggtitle("Restoration Planting by Years") + labs(x="Years", y="Plants planted") +
theme_bw()
plot_qty_year
#Adding a column for the year
restoration <- restoration %>%
mutate(year_planted = year(restoration$Date.Planted))
#Adding a column for the month
restoration <- restoration %>%
mutate(month_planted = month(restoration$Date.Planted))
#Summarising number of plants planted by years
res_qty_year <- restoration %>%
group_by(year_planted) %>%
summarise(Qty = sum(Qty))
plot_qty_year <- ggplot(res_qty_year, aes(x=res_qty_year$year_planted, y=res_qty_year$Qty)) + geom_bar(stat = "identity", fill = "#4f6469") +
geom_text(y=res_qty_year$Qty+300 , label = res_qty_year$Qty) +
ggtitle("Restoration Planting by Years") + labs(x="Years", y="Plants planted") +
theme_bw()
plot_qty_year
#Adding a column for the year
restoration <- restoration %>%
mutate(year_planted = year(restoration$Date.Planted))
#Adding a column for the month
restoration <- restoration %>%
mutate(month_planted = month(restoration$Date.Planted))
#Summarising number of plants planted by years
res_qty_year <- restoration %>%
group_by(year_planted) %>%
summarise(Qty = sum(Qty))
plot_qty_year <- ggplot(res_qty_year, aes(x=res_qty_year$year_planted, y=res_qty_year$Qty)) + geom_bar(stat = "identity", fill = "#2987bb") +
geom_text(y=res_qty_year$Qty+300 , label = res_qty_year$Qty) +
ggtitle("Restoration Planting by Years") + labs(x="Years", y="Plants planted") +
theme_bw()
plot_qty_year
boxplot(res_qty_year$Qty, main = "Plants planted by years", xlab="Quantity", col = "#ec8a71")
boxplot(res_qty_year$Qty, main = "Plants planted by years", xlab="Quantity", col = "#ec8a71")
quantile(res_qty_year$Qty)
#Plantation by month and year
res_month <- restoration %>%
group_by(year_planted, month_planted) %>%
summarise(Qty = sum(Qty))
#Adding a dummy month column for X Label
res_month <- res_month %>%
mutate(month2_planted = as.Date(paste0("2000-", month_planted, "-01"), "%Y-%m-%d"))
#Plotting the new dataset
res_month %>%
ggplot(aes(x=month2_planted, y=Qty)) +
geom_bar(stat = "identity", fill = "darkorchid4") +
facet_wrap(~year_planted, ncol = 3) +
labs(title="Plantations by Months/Year", x="Month", y="Quantity planted")+
theme_bw(base_size = 10) + scale_x_date(date_labels = "%b")
